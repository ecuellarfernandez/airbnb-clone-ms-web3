<app-card skin="box" classes="booking-card bg-surface-2 text-on-surface-2">
  <ng-container card-header>
    <div class="booking-card__price-row">
      <span class="booking-card__price">
        ${{ priceLabel }} {{ currency }}
      </span>
      <span class="booking-card__nights">
        &nbsp;por {{ nightsLabel }}
      </span>
    </div>
  </ng-container>

  <div class="booking-card__fields">
    <div class="booking-card__dates-row">
      <button
        type="button"
        class="booking-card__field booking-card__field--left"
        (click)="openDatePicker()"
      >
        <span class="booking-card__field-label">LLEGADA</span>
        <span class="booking-card__field-value">
          {{ dateRange.checkIn  ? (dateRange.checkIn  | date:'d/M/yyyy') : 'Añadir fecha' }}
        </span>
      </button>

      <button
        type="button"
        class="booking-card__field booking-card__field--right"
        (click)="openDatePicker()"
      >
        <span class="booking-card__field-label">SALIDA</span>
        <span class="booking-card__field-value">
          {{ dateRange.checkOut ? (dateRange.checkOut | date:'d/M/yyyy') : 'Añadir fecha' }}
        </span>
      </button>
    </div>

    <div class="booking-card__guests-row">
      <button
        type="button"
        class="booking-card__field booking-card__field--full"
        (click)="openGuestSelector()"
      >
        <div class="booking-card__guest-content">
          <div>
            <span class="booking-card__field-label">HUÉSPEDES</span>
            <span class="booking-card__field-value">
              {{ guestLabel }}
            </span>
          </div>

          <span class="booking-card__chevron" aria-hidden="true">▾</span>
        </div>
      </button>
    </div>
  </div>

  <ng-container card-actions>
    <button class="w-full btn-primary" (click)="onBookClick($event)">
      Reservar
    </button>
    <p class="booking-card__note">
      No se hará ningún cargo por el momento
    </p>
  </ng-container>
</app-card>

<app-date-picker
  [isOpen]="isDatePickerOpen"
  [dateRange]="dateRange"
  variant="booking"
  (dateRangeChange)="onDateRangeChange($event)"
  (close)="closeDatePicker()"
></app-date-picker>

<app-guest-selector
  [isOpen]="isGuestSelectorOpen"
  [guests]="guests"
  variant="booking"
  (guestsChange)="onGuestChange($event)"
  (close)="closeGuestSelector()"
></app-guest-selector>
